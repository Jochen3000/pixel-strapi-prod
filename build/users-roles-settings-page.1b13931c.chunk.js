(self.webpackChunkwebsite_strapi=self.webpackChunkwebsite_strapi||[]).push([[8853],{16098:(B,j,n)=>{"use strict";n.r(j),n.d(j,{default:()=>Ls});var r=n(67294),y=n(49656),o=n(68547),p=n(31498),m=n(81912),P=n(29728),h=n(17034),E=n(67838),f=n(36989),v=n(49066),O=n(185),U=n(38939),L=n(8060),w=n(79031),C=n(37909),A=n(63237),D=n(72735),se=n(14087),ee=n(96315),G=n(97132),Q=n(23724),ue=n(63852),F=n(89031),b=(s,e,t)=>new Promise((l,d)=>{var c=a=>{try{i(t.next(a))}catch(u){d(u)}},g=a=>{try{i(t.throw(a))}catch(u){d(u)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(c,g);i((t=t.apply(s,e)).next())});const M=(s,e)=>b(void 0,null,function*(){try{const{data:t}=yield F.be.get((0,F.Gc)("roles"));return e("The roles have loaded successfully"),t}catch(t){throw s({type:"warning",message:{id:"notification.error"}}),new Error("error")}}),S=(s,e)=>b(void 0,null,function*(){try{yield F.be.delete(`${(0,F.Gc)("roles")}/${s}`)}catch(t){e({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}});var x=n(45697),T=n.n(x),$=n(12028),K=n(46273),ne=n(15234),de=n(4585),pe=n(20022),ae=Object.defineProperty,te=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,Ee=(s,e,t)=>e in s?ae(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Pe=(s,e)=>{for(var t in e||(e={}))ut.call(e,t)&&Ee(s,t,e[t]);if(te)for(var t of te(e))dt.call(e,t)&&Ee(s,t,e[t]);return s};const me=({sortedRoles:s,canDelete:e,permissions:t,setRoleToDelete:l,onDelete:d})=>{const{formatMessage:c}=(0,G.useIntl)(),{push:g}=(0,y.useHistory)(),[i,a]=d,u=R=>e&&!["public","authenticated"].includes(R.type),I=R=>{l(R),a(!i)},Z=R=>{g(`/settings/${p.Z}/roles/${R}`)};return r.createElement(ne.p,null,s==null?void 0:s.map(R=>r.createElement(w.Tr,Pe({key:R.name},(0,o.onRowClick)({fn:()=>Z(R.id)})),r.createElement(C.Td,{width:"20%"},r.createElement(D.Z,null,R.name)),r.createElement(C.Td,{width:"50%"},r.createElement(D.Z,null,R.description)),r.createElement(C.Td,{width:"30%"},r.createElement(D.Z,null,`${R.nb_users} ${c({id:"global.users",defaultMessage:"users"}).toLowerCase()}`)),r.createElement(C.Td,null,r.createElement(K.k,Pe({justifyContent:"end"},o.stopPropagation),r.createElement(o.CheckPermissions,{permissions:t.updateRole},r.createElement($.h,{onClick:()=>Z(R.id),noBorder:!0,icon:r.createElement(de.Z,null),label:c({id:"app.component.table.edit",defaultMessage:"Edit {target}"},{target:`${R.name}`})})),u(R)&&r.createElement(o.CheckPermissions,{permissions:t.deleteRole},r.createElement($.h,{onClick:()=>I(R.id),noBorder:!0,icon:r.createElement(pe.default,null),label:c({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${R.name}`})})))))))},pt=me;me.defaultProps={canDelete:!1},me.propTypes={onDelete:T().array.isRequired,permissions:T().object.isRequired,setRoleToDelete:T().func.isRequired,sortedRoles:T().array.isRequired,canDelete:T().bool};var ye=(s,e,t)=>new Promise((l,d)=>{var c=a=>{try{i(t.next(a))}catch(u){d(u)}},g=a=>{try{i(t.throw(a))}catch(u){d(u)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(c,g);i((t=t.apply(s,e)).next())});const mt=()=>{const{trackUsage:s}=(0,o.useTracking)(),{formatMessage:e}=(0,G.useIntl)(),{push:t}=(0,y.useHistory)(),l=(0,o.useNotification)(),{notifyStatus:d}=(0,se.G)(),[{query:c}]=(0,o.useQueryParams)(),g=(c==null?void 0:c._q)||"",[i,a]=(0,r.useState)(!1),[u,I]=(0,r.useState)(!1),[Z,R]=(0,r.useState)();(0,o.useFocusWhenNavigate)();const N=(0,Q.useQueryClient)(),_=(0,r.useMemo)(()=>({create:m.Z.createRole,read:m.Z.readRoles,update:m.Z.updateRole,delete:m.Z.deleteRole}),[]),{isLoading:W,allowedActions:{canRead:k,canDelete:q}}=(0,o.useRBAC)(_),{isLoading:ws,data:{roles:ve},isFetching:Ms}=(0,Q.useQuery)("get-roles",()=>M(l,d),{initialData:{},enabled:k}),ct=ws||Ms,Ss=()=>{s("willCreateRole"),t(`/settings/${p.Z}/roles/new`)},xs=()=>{a(!i)},js={roles:{id:(0,F.OB)("Roles.empty"),defaultMessage:"You don't have any roles yet."},search:{id:(0,F.OB)("Roles.empty.search"),defaultMessage:"No roles match the search."}},Us=e({id:"global.roles",defaultMessage:"Roles"}),Bs=(0,Q.useMutation)(Fs=>S(Fs,l),{onSuccess(){return ye(this,null,function*(){yield N.invalidateQueries("get-roles")})}}),Is=()=>ye(void 0,null,function*(){I(!0),yield Bs.mutateAsync(Z),a(!i),I(!1)}),re=(0,ue.ZP)(ve||[],g,{keys:["name","description"]}),Zs=g&&!re.length?"search":"roles",_s=4,Ns=((ve==null?void 0:ve.length)||0)+1;return r.createElement(h.A,null,r.createElement(o.SettingsPageTitle,{name:Us}),r.createElement(O.o,{"aria-busy":ct},r.createElement(E.T,{title:e({id:"global.roles",defaultMessage:"Roles"}),subtitle:e({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),primaryAction:r.createElement(o.CheckPermissions,{permissions:m.Z.createRole},r.createElement(P.z,{onClick:Ss,startIcon:r.createElement(ee.default,null),size:"S"},e({id:(0,F.OB)("List.button.roles"),defaultMessage:"Add new role"})))}),r.createElement(f.Z,{startActions:r.createElement(o.SearchURLQuery,{label:e({id:"app.component.search.label",defaultMessage:"Search"})})}),r.createElement(v.D,null,!k&&r.createElement(o.NoPermissions,null),(ct||W)&&r.createElement(o.LoadingIndicatorPage,null),k&&re&&(re==null?void 0:re.length)?r.createElement(U.i,{colCount:_s,rowCount:Ns},r.createElement(L.h,null,r.createElement(w.Tr,null,r.createElement(C.Th,null,r.createElement(D.Z,{variant:"sigma",textColor:"neutral600"},e({id:"global.name",defaultMessage:"Name"}))),r.createElement(C.Th,null,r.createElement(D.Z,{variant:"sigma",textColor:"neutral600"},e({id:"global.description",defaultMessage:"Description"}))),r.createElement(C.Th,null,r.createElement(D.Z,{variant:"sigma",textColor:"neutral600"},e({id:"global.users",defaultMessage:"Users"}))),r.createElement(C.Th,null,r.createElement(A.T,null,e({id:"global.actions",defaultMessage:"Actions"}))))),r.createElement(pt,{sortedRoles:re,canDelete:q,permissions:m.Z,setRoleToDelete:R,onDelete:[i,a]})):r.createElement(o.EmptyStateLayout,{content:js[Zs]})),r.createElement(o.ConfirmDialog,{isConfirmButtonLoading:u,onConfirm:Is,onToggleDialog:xs,isOpen:i})))},gt=()=>r.createElement(o.CheckPagePermissions,{permissions:m.Z.accessRoles},r.createElement(mt,null));var he=n(80831),V=n(7681),H=n(35961),Oe=n(16364),be=n(64256),ft=n(67109),Re=n(85018),oe=n(11276),X=n(74571),Y=n(84757),z=n(96486);const Ce=(0,r.createContext)({}),Ae=({children:s,value:e})=>r.createElement(Ce.Provider,{value:e},s),ge=()=>(0,r.useContext)(Ce);Ae.propTypes={children:T().node.isRequired,value:T().object.isRequired};var ie=n(71893),vt=n(35161),Et=n.n(vt),Pt=n(13217),yt=n.n(Pt);const ht=s=>{switch(s){case"POST":return{text:"success600",border:"success200",background:"success100"};case"GET":return{text:"secondary600",border:"secondary200",background:"secondary100"};case"PUT":return{text:"warning600",border:"warning200",background:"warning100"};case"DELETE":return{text:"danger600",border:"danger200",background:"danger100"};default:return{text:"neutral600",border:"neutral200",background:"neutral100"}}},Ot=(0,ie.default)(H.x)`
  margin: -1px;
  border-radius: ${({theme:s})=>s.spaces[1]} 0 0 ${({theme:s})=>s.spaces[1]};
`;function fe({route:s}){const{formatMessage:e}=(0,G.useIntl)(),{method:t,handler:l,path:d}=s,c=d?yt()(d.split("/")):[],[g="",i=""]=l?l.split("."):[],a=ht(s.method);return r.createElement(V.K,{spacing:2},r.createElement(D.Z,{variant:"delta",as:"h3"},e({id:"users-permissions.BoundRoute.title",defaultMessage:"Bound route to"}),"\xA0",r.createElement("span",null,g),r.createElement(D.Z,{variant:"delta",textColor:"primary600"},".",i)),r.createElement(V.K,{horizontal:!0,hasRadius:!0,background:"neutral0",borderColor:"neutral200",spacing:0},r.createElement(Ot,{background:a.background,borderColor:a.border,padding:2},r.createElement(D.Z,{fontWeight:"bold",textColor:a.text},t)),r.createElement(H.x,{paddingLeft:2,paddingRight:2},Et()(c,u=>r.createElement(D.Z,{key:u,textColor:u.includes(":")?"neutral600":"neutral900"},"/",u)))))}fe.defaultProps={route:{handler:"Nocontroller.error",method:"GET",path:"/there-is-no-path"}},fe.propTypes={route:T().shape({handler:T().string,method:T().string,path:T().string})};const bt=fe,Rt=()=>{const{formatMessage:s}=(0,G.useIntl)(),{selectedAction:e,routes:t}=ge(),l=(0,z.without)(e.split("."),"controllers"),d=(0,z.get)(t,l[0]),c=l.slice(1).join("."),g=(0,z.isEmpty)(d)?[]:d.filter(i=>i.handler.endsWith(c));return r.createElement(X.P,{col:5,background:"neutral150",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7,style:{minHeight:"100%"}},e?r.createElement(V.K,{spacing:2},g.map((i,a)=>r.createElement(bt,{key:a,route:i}))):r.createElement(V.K,{spacing:2},r.createElement(D.Z,{variant:"delta",as:"h3"},s({id:"users-permissions.Policies.header.title",defaultMessage:"Advanced settings"})),r.createElement(D.Z,{as:"p",textColor:"neutral600"},s({id:"users-permissions.Policies.header.hint",defaultMessage:"Select the application's actions or the plugin's actions and click on the cog icon to display the bound route"}))))};var Ct=n(48734),At=n(74756),Dt=n(63081),Tt=n(11700),Lt=n.n(Tt);function wt(s){switch(s){case"application":return"Application";case"plugin::content-manager":return"Content manager";case"plugin::content-type-builder":return"Content types builder";case"plugin::documentation":return"Documentation";case"plugin::email":return"Email";case"plugin::i18n":return"i18n";case"plugin::upload":return"Upload";case"plugin::users-permissions":return"Users-permissions";default:return Lt()(s.replace("api::","").replace("plugin::",""))}}const Mt=wt;var St=n(89734),De=n.n(St),Te=n(36213),xt=n(78114);const Le=ie.css`
  background: ${s=>s.theme.colors.primary100};
  svg {
    opacity: 1;
  }
`,jt=(0,ie.default)(H.x)`
  display: flex;
  justify-content: space-between;
  align-items: center;

  svg {
    opacity: 0;
    path {
      fill: ${s=>s.theme.colors.primary600};
    }
  }

  /* Show active style both on hover and when the action is selected */
  ${s=>s.isActive&&Le}
  &:hover {
    ${Le}
  }
`,Ut=ie.default.div`
  flex: 1;
  align-self: center;
  border-top: 1px solid ${({theme:s})=>s.colors.neutral150};
`,we=({subCategory:s})=>{const{formatMessage:e}=(0,G.useIntl)(),{onChange:t,onChangeSelectAll:l,onSelectedAction:d,selectedAction:c,modifiedData:g}=ge(),i=(0,r.useMemo)(()=>(0,z.get)(g,s.name,{}),[g,s]),a=(0,r.useMemo)(()=>Object.values(i).every(R=>R.enabled===!0),[i]),u=(0,r.useMemo)(()=>Object.values(i).some(R=>R.enabled===!0)&&!a,[i,a]),I=(0,r.useCallback)(({target:{name:R}})=>{l({target:{name:R,value:!a}})},[a,l]),Z=(0,r.useCallback)(R=>c===R,[c]);return r.createElement(H.x,null,r.createElement(K.k,{justifyContent:"space-between",alignItems:"center"},r.createElement(H.x,{paddingRight:4},r.createElement(D.Z,{variant:"sigma",textColor:"neutral600"},s.label)),r.createElement(Ut,null),r.createElement(H.x,{paddingLeft:4},r.createElement(Te.X,{name:s.name,value:a,onValueChange:R=>I({target:{name:s.name,value:R}}),indeterminate:u},e({id:"app.utils.select-all",defaultMessage:"Select all"})))),r.createElement(K.k,{paddingTop:6,paddingBottom:6},r.createElement(oe.r,{gap:2,style:{flex:1}},s.actions.map(R=>{const N=`${R.name}.enabled`;return r.createElement(X.P,{col:6,key:R.name},r.createElement(jt,{isActive:Z(R.name),padding:2,hasRadius:!0},r.createElement(Te.X,{value:(0,z.get)(g,N,!1),name:N,onValueChange:_=>t({target:{name:N,value:_}})},R.label),r.createElement("button",{type:"button","data-testid":"action-cog",onClick:()=>d(R.name),style:{display:"inline-flex",alignItems:"center"}},r.createElement(xt.Z,null))))}))))};we.propTypes={subCategory:T().object.isRequired};const Bt=we;var It=Object.defineProperty,Zt=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Se=(s,e,t)=>e in s?It(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Gt=(s,e)=>{for(var t in e||(e={}))Nt.call(e,t)&&Se(s,t,e[t]);if(Me)for(var t of Me(e))Ft.call(e,t)&&Se(s,t,e[t]);return s},$t=(s,e)=>Zt(s,_t(e));const xe=({name:s,permissions:e})=>{const t=(0,r.useMemo)(()=>De()(Object.values(e.controllers).reduce((l,d,c)=>{const g=`${s}.controllers.${Object.keys(e.controllers)[c]}`,i=De()(Object.keys(d).reduce((a,u)=>[...a,$t(Gt({},d[u]),{label:u,name:`${g}.${u}`})],[]),"label");return[...l,{actions:i,label:Object.keys(e.controllers)[c],name:g}]},[]),"label"),[s,e]);return r.createElement(H.x,{padding:6},t.map(l=>r.createElement(Bt,{key:l.name,subCategory:l})))};xe.propTypes={name:T().string.isRequired,permissions:T().object.isRequired};const Kt=xe;var Vt=Object.defineProperty,Wt=Object.defineProperties,kt=Object.getOwnPropertyDescriptors,je=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,Ue=(s,e,t)=>e in s?Vt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Qt=(s,e)=>{for(var t in e||(e={}))Ht.call(e,t)&&Ue(s,t,e[t]);if(je)for(var t of je(e))zt.call(e,t)&&Ue(s,t,e[t]);return s},Xt=(s,e)=>Wt(s,kt(e));const Yt=(s,e)=>{const t=Object.keys(e).sort().map(l=>({name:l,isOpen:!1}));return Xt(Qt({},s),{collapses:t})};var le=n(60612),Jt=Object.defineProperty,qt=Object.defineProperties,er=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,tr=Object.prototype.hasOwnProperty,rr=Object.prototype.propertyIsEnumerable,Ie=(s,e,t)=>e in s?Jt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ze=(s,e)=>{for(var t in e||(e={}))tr.call(e,t)&&Ie(s,t,e[t]);if(Be)for(var t of Be(e))rr.call(e,t)&&Ie(s,t,e[t]);return s},_e=(s,e)=>qt(s,er(e));const sr={collapses:[]},nr=(s,e)=>(0,le.default)(s,t=>{switch(e.type){case"TOGGLE_COLLAPSE":{t.collapses=s.collapses.map((l,d)=>d===e.index?_e(Ze({},l),{isOpen:!l.isOpen}):_e(Ze({},l),{isOpen:!1}));break}default:return t}}),ar=()=>{const{modifiedData:s}=ge(),{formatMessage:e}=(0,G.useIntl)(),[{collapses:t},l]=(0,r.useReducer)(nr,sr,c=>Yt(c,s)),d=c=>l({type:"TOGGLE_COLLAPSE",index:c});return r.createElement(V.K,{spacing:1},t.map((c,g)=>r.createElement(Ct.U,{expanded:c.isOpen,onToggle:()=>d(g),key:c.name,variant:g%2===0?"secondary":void 0},r.createElement(At.B,{title:Mt(c.name),description:e({id:"users-permissions.Plugin.permissions.plugins.description",defaultMessage:"Define all allowed actions for the {name} plugin."},{name:c.name}),variant:g%2?"primary":"secondary"}),r.createElement(Dt.v,null,r.createElement(H.x,null,r.createElement(Kt,{permissions:s[c.name],name:c.name}))))))};var or=Object.defineProperty,ir=Object.defineProperties,lr=Object.getOwnPropertyDescriptors,Ne=Object.getOwnPropertySymbols,cr=Object.prototype.hasOwnProperty,ur=Object.prototype.propertyIsEnumerable,Fe=(s,e,t)=>e in s?or(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,dr=(s,e)=>{for(var t in e||(e={}))cr.call(e,t)&&Fe(s,t,e[t]);if(Ne)for(var t of Ne(e))ur.call(e,t)&&Fe(s,t,e[t]);return s},pr=(s,e)=>ir(s,lr(e));const mr={initialData:{},modifiedData:{},routes:{},selectedAction:"",policies:[]},gr=(s,e)=>(0,le.default)(s,t=>{switch(e.type){case"ON_CHANGE":{const l=e.keys.length,d=e.keys[l-1]==="enabled";if(e.value&&d){const c=(0,z.take)(e.keys,l-1).join(".");t.selectedAction=c}(0,z.set)(t,["modifiedData",...e.keys],e.value);break}case"ON_CHANGE_SELECT_ALL":{const l=["modifiedData",...e.keys],d=(0,z.get)(s,l,{}),c=Object.keys(d).reduce((g,i)=>(g[i]=pr(dr({},d[i]),{enabled:e.value}),g),{});(0,z.set)(t,l,c);break}case"ON_RESET":{t.modifiedData=s.initialData;break}case"ON_SUBMIT_SUCCEEDED":{t.initialData=s.modifiedData;break}case"SELECT_ACTION":{const{actionToSelect:l}=e;t.selectedAction=l===s.selectedAction?"":l;break}default:return t}});var fr=Object.defineProperty,vr=Object.defineProperties,Er=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable,$e=(s,e,t)=>e in s?fr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,hr=(s,e)=>{for(var t in e||(e={}))Pr.call(e,t)&&$e(s,t,e[t]);if(Ge)for(var t of Ge(e))yr.call(e,t)&&$e(s,t,e[t]);return s},Or=(s,e)=>vr(s,Er(e));const br=(s,e,t)=>Or(hr({},s),{initialData:e,modifiedData:e,routes:t});var Rr=Object.defineProperty,Cr=Object.defineProperties,Ar=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,Ve=(s,e,t)=>e in s?Rr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Lr=(s,e)=>{for(var t in e||(e={}))Dr.call(e,t)&&Ve(s,t,e[t]);if(Ke)for(var t of Ke(e))Tr.call(e,t)&&Ve(s,t,e[t]);return s},wr=(s,e)=>Cr(s,Ar(e));const We=(0,r.forwardRef)(({permissions:s,routes:e},t)=>{const{formatMessage:l}=(0,G.useIntl)(),[d,c]=(0,r.useReducer)(gr,mr,I=>br(I,s,e));(0,r.useImperativeHandle)(t,()=>({getPermissions(){return{permissions:d.modifiedData}},resetForm(){c({type:"ON_RESET"})},setFormAfterSubmit(){c({type:"ON_SUBMIT_SUCCEEDED"})}}));const g=({target:{name:I,value:Z}})=>c({type:"ON_CHANGE",keys:I.split("."),value:Z==="empty__string_value"?"":Z}),i=({target:{name:I,value:Z}})=>c({type:"ON_CHANGE_SELECT_ALL",keys:I.split("."),value:Z}),a=I=>c({type:"SELECT_ACTION",actionToSelect:I}),u=wr(Lr({},d),{onChange:g,onChangeSelectAll:i,onSelectedAction:a});return r.createElement(Ae,{value:u},r.createElement(oe.r,{gap:0,shadow:"filterShadow",hasRadius:!0,background:"neutral0"},r.createElement(X.P,{col:7,paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},r.createElement(V.K,{spacing:6},r.createElement(V.K,{spacing:2},r.createElement(D.Z,{variant:"delta",as:"h2"},l({id:(0,Y.Z)("Plugins.header.title"),defaultMessage:"Permissions"})),r.createElement(D.Z,{as:"p",textColor:"neutral600"},l({id:(0,Y.Z)("Plugins.header.description"),defaultMessage:"Only actions bound by a route are listed below."}))),r.createElement(ar,null))),r.createElement(Rt,null)))});We.propTypes={permissions:T().object.isRequired,routes:T().object.isRequired};const ke=(0,r.memo)(We),Xs={isLoading:!0,modifiedData:{}},Ys=(s,e)=>produce(s,t=>{switch(e.type){case"GET_DATA":{t.isLoading=!0,t.modifiedData={};break}case"GET_DATA_SUCCEEDED":{t.isLoading=!1,t.modifiedData=e.data;break}case"GET_DATA_ERROR":{t.isLoading=!0;break}case"ON_SUBMIT_SUCCEEDED":{t.modifiedData=e.data;break}default:return t}}),Js=null;var Mr=n(25108),Sr=(s,e,t)=>new Promise((l,d)=>{var c=a=>{try{i(t.next(a))}catch(u){d(u)}},g=a=>{try{i(t.throw(a))}catch(u){d(u)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(c,g);i((t=t.apply(s,e)).next())});const qs=(s,e)=>{const{isLoading:t,allowedActions:l}=useRBAC(e),[{isLoading:d,modifiedData:c},g]=useReducer(reducer,initialState),i=useNotification(),a=useRef(!0),u=new AbortController,{signal:I}=u;useEffect(()=>(t||(()=>Sr(void 0,null,function*(){try{g({type:"GET_DATA"});const N=yield request(getRequestURL(s),{method:"GET",signal:I});g({type:"GET_DATA_SUCCEEDED",data:N})}catch(N){a.current&&(g({type:"GET_DATA_ERROR"}),Mr.error(N),i({type:"warning",message:{id:"notification.error"}}))}}))(),()=>{u.abort(),a.current=!1}),[t,s]);const Z=useCallback(R=>{g({type:"ON_SUBMIT_SUCCEEDED",data:R})},[]);return{allowedActions:l,dispatchSubmitSucceeded:Z,isLoading:d,isLoadingForPermissions:t,modifiedData:c}},en=null;var xr=Object.defineProperty,jr=Object.defineProperties,Ur=Object.getOwnPropertyDescriptors,He=Object.getOwnPropertySymbols,Br=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable,ze=(s,e,t)=>e in s?xr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Zr=(s,e)=>{for(var t in e||(e={}))Br.call(e,t)&&ze(s,t,e[t]);if(He)for(var t of He(e))Ir.call(e,t)&&ze(s,t,e[t]);return s},_r=(s,e)=>jr(s,Ur(e));const tn=(s,e)=>_r(Zr({},s),{isLoading:e}),rn=null,sn={roles:[],isLoading:!0},nn=(s,e)=>produce(s,t=>{switch(e.type){case"GET_DATA":{t.isLoading=!0,t.roles=[];break}case"GET_DATA_SUCCEEDED":{t.roles=e.data,t.isLoading=!1;break}case"GET_DATA_ERROR":{t.isLoading=!1;break}default:return t}}),an=null;var Nr=(s,e,t)=>new Promise((l,d)=>{var c=a=>{try{i(t.next(a))}catch(u){d(u)}},g=a=>{try{i(t.throw(a))}catch(u){d(u)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(c,g);i((t=t.apply(s,e)).next())});const on=(s=!0)=>{const[{roles:e,isLoading:t},l]=useReducer(reducer,initialState,()=>init(initialState,s)),d=useNotification(),c=useRef(!0),g=new AbortController,{signal:i}=g;useEffect(()=>(s&&a(),()=>{g.abort(),c.current=!1}),[s]);const a=()=>Nr(void 0,null,function*(){try{l({type:"GET_DATA"});const{roles:u}=yield request(`/${pluginId}/roles`,{method:"GET",signal:i});l({type:"GET_DATA_SUCCEEDED",data:u})}catch(u){const I=get(u,["response","payload","message"],"An error occured");c.current&&(l({type:"GET_DATA_ERROR"}),I!=="Forbidden"&&d({type:"warning",message:I}))}});return{roles:e,isLoading:t,getData:a}},ln=null;var Fr=Object.defineProperty,Gr=Object.defineProperties,$r=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,Kr=Object.prototype.hasOwnProperty,Vr=Object.prototype.propertyIsEnumerable,Xe=(s,e,t)=>e in s?Fr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Wr=(s,e)=>{for(var t in e||(e={}))Kr.call(e,t)&&Xe(s,t,e[t]);if(Qe)for(var t of Qe(e))Vr.call(e,t)&&Xe(s,t,e[t]);return s},kr=(s,e)=>Gr(s,$r(e));const Hr=(s,e)=>kr(Wr({},s),{isLoading:e});var ce=n(46979);const Ye={permissions:{},routes:{},isLoading:!0},zr=(s,e)=>(0,le.default)(s,t=>{switch(e.type){case"GET_DATA":{t.isLoading=!0,t.permissions={},t.routes={};break}case"GET_DATA_SUCCEEDED":{t.permissions=e.permissions,t.routes=e.routes,t.isLoading=!1;break}case"GET_DATA_ERROR":{t.isLoading=!1;break}default:return t}});var Je=(s,e,t)=>new Promise((l,d)=>{var c=a=>{try{i(t.next(a))}catch(u){d(u)}},g=a=>{try{i(t.throw(a))}catch(u){d(u)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(c,g);i((t=t.apply(s,e)).next())});const qe=(s=!0)=>{const e=(0,o.useNotification)(),[{permissions:t,routes:l,isLoading:d},c]=(0,r.useReducer)(zr,Ye,()=>Hr(Ye,s)),g=(0,r.useCallback)(()=>Je(void 0,null,function*(){try{c({type:"GET_DATA"});const[{permissions:i},{routes:a}]=yield Promise.all([`/${p.Z}/permissions`,`/${p.Z}/routes`].map(u=>Je(void 0,null,function*(){return(yield ce.Z.get(u)).data})));c({type:"GET_DATA_SUCCEEDED",permissions:(0,F.YX)(i),routes:a})}catch(i){const a=(0,z.get)(i,["response","payload","message"],"An error occured");c({type:"GET_DATA_ERROR"}),a!=="Forbidden"&&e({type:"warning",message:a})}}),[e]);return(0,r.useEffect)(()=>{s&&g()},[g,s]),{permissions:t,routes:l,getData:g,isLoading:d}},Qr={role:{},isLoading:!0},Xr=(s,e)=>(0,le.default)(s,t=>{switch(e.type){case"GET_DATA_SUCCEEDED":{t.role=e.role,t.isLoading=!1;break}case"GET_DATA_ERROR":{t.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{t.role.name=e.name,t.role.description=e.description;break}default:return t}});var Yr=n(25108),Jr=Object.defineProperty,qr=Object.defineProperties,es=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,ts=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,tt=(s,e,t)=>e in s?Jr(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,rt=(s,e)=>{for(var t in e||(e={}))ts.call(e,t)&&tt(s,t,e[t]);if(et)for(var t of et(e))rs.call(e,t)&&tt(s,t,e[t]);return s},ss=(s,e)=>qr(s,es(e)),ns=(s,e,t)=>new Promise((l,d)=>{var c=a=>{try{i(t.next(a))}catch(u){d(u)}},g=a=>{try{i(t.throw(a))}catch(u){d(u)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(c,g);i((t=t.apply(s,e)).next())});const as=s=>{const[e,t]=(0,r.useReducer)(Xr,Qr),l=(0,o.useNotification)(),d=(0,r.useRef)(null);(0,r.useEffect)(()=>(d.current=!0,s?c(s):t({type:"GET_DATA_SUCCEEDED",role:{}}),()=>d.current=!1),[s]);const c=i=>ns(void 0,null,function*(){try{const{data:{role:a}}=yield ce.Z.get(`/${p.Z}/roles/${i}`);d.current&&t({type:"GET_DATA_SUCCEEDED",role:a})}catch(a){Yr.error(a),t({type:"GET_DATA_ERROR"}),l({type:"warning",message:{id:"notification.error"}})}}),g=(0,r.useCallback)(i=>{t(rt({type:"ON_SUBMIT_SUCCEEDED"},i))},[]);return ss(rt({},e),{onSubmitSucceeded:g})};var J=n(53209);const os=J.Ry().shape({name:J.Z_().required(o.translatedErrors.required),description:J.Z_().required(o.translatedErrors.required)});var is=n(25108),ls=Object.defineProperty,cs=Object.defineProperties,us=Object.getOwnPropertyDescriptors,st=Object.getOwnPropertySymbols,ds=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable,nt=(s,e,t)=>e in s?ls(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,at=(s,e)=>{for(var t in e||(e={}))ds.call(e,t)&&nt(s,t,e[t]);if(st)for(var t of st(e))ps.call(e,t)&&nt(s,t,e[t]);return s},ms=(s,e)=>cs(s,us(e)),gs=(s,e,t)=>new Promise((l,d)=>{var c=a=>{try{i(t.next(a))}catch(u){d(u)}},g=a=>{try{i(t.throw(a))}catch(u){d(u)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(c,g);i((t=t.apply(s,e)).next())});const fs=()=>{const{formatMessage:s}=(0,G.useIntl)(),[e,t]=(0,r.useState)(!1),l=(0,o.useNotification)(),{lockApp:d,unlockApp:c}=(0,o.useOverlayBlocker)(),{params:{id:g}}=(0,y.useRouteMatch)(`/settings/${p.Z}/roles/:id`),{isLoading:i,routes:a}=qe(),{role:u,onSubmitSucceeded:I,isLoading:Z}=as(g),R=(0,r.useRef)(),N=_=>gs(void 0,null,function*(){d(),t(!0);try{const W=R.current.getPermissions();yield ce.Z.put(`/${p.Z}/roles/${g}`,ms(at(at({},_),W),{users:[]})),I({name:_.name,description:_.description}),l({type:"success",message:{id:(0,Y.Z)("Settings.roles.edited"),defaultMessage:"Role edited"}})}catch(W){is.error(W),l({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}t(!1),c()});return Z?r.createElement(o.LoadingIndicatorPage,null):r.createElement(O.o,null,r.createElement(o.SettingsPageTitle,{name:"Roles"}),r.createElement(he.Formik,{enableReinitialize:!0,initialValues:{name:u.name,description:u.description},onSubmit:N,validationSchema:os},({handleSubmit:_,values:W,handleChange:k,errors:q})=>r.createElement(o.Form,{noValidate:!0,onSubmit:_},r.createElement(E.T,{primaryAction:!i&&r.createElement(P.z,{disabled:u.code==="strapi-super-admin",type:"submit",loading:e,startIcon:r.createElement(Re.Z,null)},s({id:"global.save",defaultMessage:"Save"})),title:u.name,subtitle:u.description,navigationAction:r.createElement(o.Link,{startIcon:r.createElement(ft.Z,null),to:"/settings/users-permissions/roles"},s({id:"global.back",defaultMessage:"Back"}))}),r.createElement(v.D,null,r.createElement(V.K,{spacing:7},r.createElement(H.x,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},r.createElement(V.K,{spacing:4},r.createElement(D.Z,{variant:"delta",as:"h2"},s({id:(0,Y.Z)("EditPage.form.roles"),defaultMessage:"Role details"})),r.createElement(oe.r,{gap:4},r.createElement(X.P,{col:6},r.createElement(Oe.o,{name:"name",value:W.name||"",onChange:k,label:s({id:"global.name",defaultMessage:"Name"}),error:q.name?s({id:q.name,defaultMessage:"Invalid value"}):null})),r.createElement(X.P,{col:6},r.createElement(be.g,{name:"description",value:W.description||"",onChange:k,label:s({id:"global.description",defaultMessage:"Description"}),error:q.description?s({id:q.description,defaultMessage:"Invalid value"}):null}))))),!i&&r.createElement(ke,{ref:R,permissions:u.permissions,routes:a}))))))},vs=()=>r.createElement(o.CheckPagePermissions,{permissions:m.Z.updateRole},r.createElement(fs,null)),Es=J.Ry().shape({name:J.Z_().required(o.translatedErrors.required),description:J.Z_().required(o.translatedErrors.required)});var Ps=n(25108),ys=Object.defineProperty,hs=Object.defineProperties,Os=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,bs=Object.prototype.hasOwnProperty,Rs=Object.prototype.propertyIsEnumerable,it=(s,e,t)=>e in s?ys(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,lt=(s,e)=>{for(var t in e||(e={}))bs.call(e,t)&&it(s,t,e[t]);if(ot)for(var t of ot(e))Rs.call(e,t)&&it(s,t,e[t]);return s},Cs=(s,e)=>hs(s,Os(e)),As=(s,e,t)=>new Promise((l,d)=>{var c=a=>{try{i(t.next(a))}catch(u){d(u)}},g=a=>{try{i(t.throw(a))}catch(u){d(u)}},i=a=>a.done?l(a.value):Promise.resolve(a.value).then(c,g);i((t=t.apply(s,e)).next())});const Ds=()=>{const{formatMessage:s}=(0,G.useIntl)(),[e,t]=(0,r.useState)(!1),l=(0,o.useNotification)(),{goBack:d}=(0,y.useHistory)(),{lockApp:c,unlockApp:g}=(0,o.useOverlayBlocker)(),{isLoading:i,permissions:a,routes:u}=qe(),{trackUsage:I}=(0,o.useTracking)(),Z=(0,r.useRef)(),R=N=>As(void 0,null,function*(){c(),t(!0);try{const _=Z.current.getPermissions();yield ce.Z.post(`/${p.Z}/roles`,Cs(lt(lt({},N),_),{users:[]})),I("didCreateRole"),l({type:"success",message:{id:(0,Y.Z)("Settings.roles.created"),defaultMessage:"Role created"}}),d()}catch(_){Ps.error(_),l({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}t(!1),g()});return r.createElement(O.o,null,r.createElement(o.SettingsPageTitle,{name:"Roles"}),r.createElement(he.Formik,{enableReinitialize:!0,initialValues:{name:"",description:""},onSubmit:R,validationSchema:Es},({handleSubmit:N,values:_,handleChange:W,errors:k})=>r.createElement(o.Form,{noValidate:!0,onSubmit:N},r.createElement(E.T,{primaryAction:!i&&r.createElement(P.z,{type:"submit",loading:e,startIcon:r.createElement(Re.Z,null)},s({id:"global.save",defaultMessage:"Save"})),title:s({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:s({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"})}),r.createElement(v.D,null,r.createElement(V.K,{spacing:7},r.createElement(H.x,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},r.createElement(V.K,{spacing:4},r.createElement(D.Z,{variant:"delta",as:"h2"},s({id:(0,Y.Z)("EditPage.form.roles"),defaultMessage:"Role details"})),r.createElement(oe.r,{gap:4},r.createElement(X.P,{col:6},r.createElement(Oe.o,{name:"name",value:_.name||"",onChange:W,label:s({id:"global.name",defaultMessage:"Name"}),error:k.name?s({id:k.name,defaultMessage:"Invalid value"}):null})),r.createElement(X.P,{col:6},r.createElement(be.g,{name:"description",value:_.description||"",onChange:W,label:s({id:"global.description",defaultMessage:"Description"}),error:k.description?s({id:k.description,defaultMessage:"Invalid value"}):null}))))),!i&&r.createElement(ke,{ref:Z,permissions:a,routes:u}))))))},Ts=()=>r.createElement(o.CheckPagePermissions,{permissions:m.Z.createRole},r.createElement(Ds,null)),Ls=()=>r.createElement(o.CheckPagePermissions,{permissions:m.Z.accessRoles},r.createElement(y.Switch,null,r.createElement(y.Route,{path:`/settings/${p.Z}/roles/new`,component:Ts,exact:!0}),r.createElement(y.Route,{path:`/settings/${p.Z}/roles/:id`,component:vs,exact:!0}),r.createElement(y.Route,{path:`/settings/${p.Z}/roles`,component:gt,exact:!0}),r.createElement(y.Route,{path:"",component:o.NotFound})))},46979:(B,j,n)=>{"use strict";n.d(j,{Z:()=>h});var r=n(9669),y=n.n(r),o=n(68547),p=n.n(o),m=(E,f,v)=>new Promise((O,U)=>{var L=A=>{try{C(v.next(A))}catch(D){U(D)}},w=A=>{try{C(v.throw(A))}catch(D){U(D)}},C=A=>A.done?O(A.value):Promise.resolve(A.value).then(L,w);C((v=v.apply(E,f)).next())});const P=y().create({baseURL:""});P.interceptors.request.use(E=>m(void 0,null,function*(){return E.headers={Authorization:`Bearer ${o.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},E}),E=>{Promise.reject(E)}),P.interceptors.response.use(E=>E,E=>{var f;throw((f=E.response)==null?void 0:f.status)===401&&(o.auth.clearAppStorage(),window.location.reload()),E});const h=P},89031:(B,j,n)=>{"use strict";n.d(j,{be:()=>r.Z,YX:()=>p,Gc:()=>h,OB:()=>E.Z});var r=n(46979),y=n(96486);const p=f=>Object.keys(f).reduce((v,O)=>{const U=f[O].controllers,L=Object.keys(U).reduce((w,C)=>((0,y.isEmpty)(U[C])||(w[C]=U[C]),w),{});return(0,y.isEmpty)(L)||(v[O]={controllers:L}),v},{});var m=n(31498);const h=f=>`/${m.Z}/${f}`;var E=n(84757)},89881:(B,j,n)=>{var r=n(47816),y=n(99291),o=y(r);B.exports=o},69199:(B,j,n)=>{var r=n(89881),y=n(98612);function o(p,m){var P=-1,h=y(p)?Array(p.length):[];return r(p,function(E,f,v){h[++P]=m(E,f,v)}),h}B.exports=o},82689:(B,j,n)=>{var r=n(29932),y=n(97786),o=n(67206),p=n(69199),m=n(71131),P=n(7518),h=n(85022),E=n(6557),f=n(1469);function v(O,U,L){U.length?U=r(U,function(A){return f(A)?function(D){return y(D,A.length===1?A[0]:A)}:A}):U=[E];var w=-1;U=r(U,P(o));var C=p(O,function(A,D,se){var ee=r(U,function(G){return G(A)});return{criteria:ee,index:++w,value:A}});return m(C,function(A,D){return h(A,D,L)})}B.exports=v},71131:B=>{function j(n,r){var y=n.length;for(n.sort(r);y--;)n[y]=n[y].value;return n}B.exports=j},26393:(B,j,n)=>{var r=n(33448);function y(o,p){if(o!==p){var m=o!==void 0,P=o===null,h=o===o,E=r(o),f=p!==void 0,v=p===null,O=p===p,U=r(p);if(!v&&!U&&!E&&o>p||E&&f&&O&&!v&&!U||P&&f&&O||!m&&O||!h)return 1;if(!P&&!E&&!U&&o<p||U&&m&&h&&!P&&!E||v&&m&&h||!f&&h||!O)return-1}return 0}B.exports=y},85022:(B,j,n)=>{var r=n(26393);function y(o,p,m){for(var P=-1,h=o.criteria,E=p.criteria,f=h.length,v=m.length;++P<f;){var O=r(h[P],E[P]);if(O){if(P>=v)return O;var U=m[P];return O*(U=="desc"?-1:1)}}return o.index-p.index}B.exports=y},99291:(B,j,n)=>{var r=n(98612);function y(o,p){return function(m,P){if(m==null)return m;if(!r(m))return o(m,P);for(var h=m.length,E=p?h:-1,f=Object(m);(p?E--:++E<h)&&P(f[E],E,f)!==!1;);return m}}B.exports=y},35161:(B,j,n)=>{var r=n(29932),y=n(67206),o=n(69199),p=n(1469);function m(P,h){var E=p(P)?r:o;return E(P,y(h,3))}B.exports=m},89734:(B,j,n)=>{var r=n(21078),y=n(82689),o=n(5976),p=n(16612),m=o(function(P,h){if(P==null)return[];var E=h.length;return E>1&&p(P,h[0],h[1])?h=[]:E>2&&p(h[0],h[1],h[2])&&(h=[h[0]]),y(P,r(h,1),[])});B.exports=m},13217:(B,j,n)=>{var r=n(14259);function y(o){var p=o==null?0:o.length;return p?r(o,1,p):[]}B.exports=y},36989:(B,j,n)=>{"use strict";n.d(j,{Z:()=>E});var r=n(67294),y=n(45697),o=n(71893),p=n(35961),m=n(46273);const P=(0,o.default)(m.k)`
  & > * + * {
    margin-left: ${({theme:f})=>f.spaces[2]};
  }

  margin-left: ${({pullRight:f})=>f?"auto":void 0};
`,h=(0,o.default)(P)`
  flex-shrink: 0;
`,E=({startActions:f,endActions:v})=>f||v?r.createElement(p.x,{paddingLeft:10,paddingRight:10},r.createElement(p.x,{paddingBottom:4},r.createElement(m.k,{justifyContent:"space-between",alignItems:"flex-start"},f&&r.createElement(P,{wrap:"wrap"},f),v&&r.createElement(h,{pullRight:!0},v)))):null;E.defaultProps={endActions:void 0,startActions:void 0},E.propTypes={endActions:y.node,startActions:y.node}},49066:(B,j,n)=>{"use strict";n.d(j,{D:()=>p});var r=n(67294),y=n(45697),o=n(35961);const p=({children:m})=>r.createElement(o.x,{paddingLeft:10,paddingRight:10},m);p.propTypes={children:y.node.isRequired}},67838:(B,j,n)=>{"use strict";n.d(j,{T:()=>Q});var r=n(67294),y=n(71893),o=n(45697),p=n(72735),m=n(35961),P=n(46273);const h=b=>{const M=(0,r.useRef)(null),[S,x]=(0,r.useState)(!0),T=([$])=>{x($.isIntersecting)};return(0,r.useEffect)(()=>{const $=M.current,K=new IntersectionObserver(T,b);return $&&K.observe(M.current),()=>{$&&K.disconnect()}},[M,b]),[M,S]};var E=n(98402);const f=(b,M)=>{const S=(0,E.useCallbackRef)(M);(0,r.useLayoutEffect)(()=>{const x=new ResizeObserver(S);return Array.isArray(b)?b.forEach(T=>{T.current&&x.observe(T.current)}):b.current&&x.observe(b.current),()=>{x.disconnect()}},[b,S])};var v=Object.defineProperty,O=Object.defineProperties,U=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,A=(b,M,S)=>M in b?v(b,M,{enumerable:!0,configurable:!0,writable:!0,value:S}):b[M]=S,D=(b,M)=>{for(var S in M||(M={}))w.call(M,S)&&A(b,S,M[S]);if(L)for(var S of L(M))C.call(M,S)&&A(b,S,M[S]);return b},se=(b,M)=>O(b,U(M)),ee=(b,M)=>{var S={};for(var x in b)w.call(b,x)&&M.indexOf(x)<0&&(S[x]=b[x]);if(b!=null&&L)for(var x of L(b))M.indexOf(x)<0&&C.call(b,x)&&(S[x]=b[x]);return S};const G=()=>{const b=(0,r.useRef)(null),[M,S]=(0,r.useState)(null),[x,T]=h({root:null,rootMargin:"0px",threshold:0});return f(x,()=>{x.current&&S(x.current.getBoundingClientRect())}),(0,r.useEffect)(()=>{b.current&&S(b.current.getBoundingClientRect())},[b]),{containerRef:x,isVisible:T,baseHeaderLayoutRef:b,headerSize:M}},Q=b=>{const{containerRef:M,isVisible:S,baseHeaderLayoutRef:x,headerSize:T}=G();return r.createElement(r.Fragment,null,r.createElement("div",{style:{height:T==null?void 0:T.height},ref:M},S&&r.createElement(F,D({ref:x},b))),!S&&r.createElement(F,se(D({},b),{sticky:!0,width:T==null?void 0:T.width})))};Q.displayName="HeaderLayout";const ue=(0,y.default)(m.x)`
  position: fixed;
  top: 0;
  right: 0;
  width: ${b=>b.width}px;
  z-index: 4;
  box-shadow: ${({theme:b})=>b.shadows.tableShadow};
`,F=r.forwardRef((b,M)=>{var S=b,{navigationAction:x,primaryAction:T,secondaryAction:$,subtitle:K,title:ne,sticky:de,width:pe}=S,ae=ee(S,["navigationAction","primaryAction","secondaryAction","subtitle","title","sticky","width"]);const te=typeof K=="string";return de?r.createElement(ue,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,background:"neutral0",width:pe,"data-strapi-header-sticky":!0},r.createElement(P.k,{justifyContent:"space-between"},r.createElement(P.k,null,x&&r.createElement(m.x,{paddingRight:3},x),r.createElement(m.x,null,r.createElement(p.Z,D({variant:"beta",as:"h1"},ae),ne),te?r.createElement(p.Z,{variant:"pi",textColor:"neutral600"},K):K),$?r.createElement(m.x,{paddingLeft:4},$):null),r.createElement(P.k,null,T?r.createElement(m.x,{paddingLeft:2},T):void 0))):r.createElement(m.x,{ref:M,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:x?6:8,background:"neutral100","data-strapi-header":!0},x?r.createElement(m.x,{paddingBottom:2},x):null,r.createElement(P.k,{justifyContent:"space-between"},r.createElement(P.k,null,r.createElement(p.Z,D({as:"h1",variant:"alpha"},ae),ne),$?r.createElement(m.x,{paddingLeft:4},$):null),T),te?r.createElement(p.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},K):K)});F.displayName="BaseHeaderLayout",F.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},F.propTypes={navigationAction:o.node,primaryAction:o.node,secondaryAction:o.node,sticky:o.bool,subtitle:o.oneOfType([o.string,o.node]),title:o.string.isRequired,width:o.number},Q.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},Q.propTypes={navigationAction:o.node,primaryAction:o.node,secondaryAction:o.node,subtitle:o.oneOfType([o.string,o.node]),title:o.string.isRequired}},185:(B,j,n)=>{"use strict";n.d(j,{o:()=>U});var r=n(67294),y=n(45697),o=n(71893),p=Object.defineProperty,m=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,E=(L,w,C)=>w in L?p(L,w,{enumerable:!0,configurable:!0,writable:!0,value:C}):L[w]=C,f=(L,w)=>{for(var C in w||(w={}))P.call(w,C)&&E(L,C,w[C]);if(m)for(var C of m(w))h.call(w,C)&&E(L,C,w[C]);return L},v=(L,w)=>{var C={};for(var A in L)P.call(L,A)&&w.indexOf(A)<0&&(C[A]=L[A]);if(L!=null&&m)for(var A of m(L))w.indexOf(A)<0&&h.call(L,A)&&(C[A]=L[A]);return C};const O=o.default.main`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,U=L=>{var w=L,{labelledBy:C}=w,A=v(w,["labelledBy"]);const D=C||"main-content-title";return r.createElement(O,f({"aria-labelledby":D,id:"main-content",tabIndex:-1},A))};U.defaultProps={labelledBy:void 0},U.propTypes={labelledBy:y.string}},67109:(B,j,n)=>{"use strict";n.d(j,{Z:()=>E});var r=n(67294),y=Object.defineProperty,o=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,P=(f,v,O)=>v in f?y(f,v,{enumerable:!0,configurable:!0,writable:!0,value:O}):f[v]=O,h=(f,v)=>{for(var O in v||(v={}))p.call(v,O)&&P(f,O,v[O]);if(o)for(var O of o(v))m.call(v,O)&&P(f,O,v[O]);return f};function E(f){return r.createElement("svg",h({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f),r.createElement("path",{d:"M24 13.3a.2.2 0 01-.2.2H5.74l8.239 8.239a.2.2 0 010 .282L12.14 23.86a.2.2 0 01-.282 0L.14 12.14a.2.2 0 010-.282L11.86.14a.2.2 0 01.282 0L13.98 1.98a.2.2 0 010 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6z",fill:"#212134"}))}},78114:(B,j,n)=>{"use strict";n.d(j,{Z:()=>E});var r=n(67294),y=Object.defineProperty,o=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,P=(f,v,O)=>v in f?y(f,v,{enumerable:!0,configurable:!0,writable:!0,value:O}):f[v]=O,h=(f,v)=>{for(var O in v||(v={}))p.call(v,O)&&P(f,O,v[O]);if(o)for(var O of o(v))m.call(v,O)&&P(f,O,v[O]);return f};function E(f){return r.createElement("svg",h({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.68 9.192c-.6.276-2.114 1.18-2.306 1.303a.792.792 0 00-.374.68v1.65a.797.797 0 00.384.687c.254.16 1.73 1.042 2.306 1.303l.744 1.8c-.24.634-.67 2.333-.72 2.554a.797.797 0 00.216.744l1.167 1.166a.801.801 0 00.744.216l.03-.008c.36-.092 1.946-.498 2.523-.712l1.8.744c.276.6 1.181 2.115 1.304 2.307a.805.805 0 00.679.374h1.649a.797.797 0 00.686-.384c.16-.254 1.042-1.73 1.303-2.306l1.8-.744c.634.24 2.333.67 2.554.72a.797.797 0 00.744-.216l1.166-1.167a.803.803 0 00.216-.744l-.008-.03c-.092-.36-.498-1.946-.712-2.523l.744-1.8c.6-.276 2.115-1.181 2.307-1.304a.804.804 0 00.374-.679v-1.649a.796.796 0 00-.382-.679c-.254-.16-1.73-1.041-2.306-1.303l-.744-1.8c.24-.634.67-2.333.72-2.554a.796.796 0 00-.216-.744l-1.166-1.173a.802.802 0 00-.744-.216l-.03.008c-.361.092-1.947.498-2.524.712l-1.8-.744c-.276-.6-1.18-2.115-1.303-2.307a.803.803 0 00-.68-.374h-1.65a.797.797 0 00-.68.382c-.16.254-1.041 1.73-1.303 2.306l-1.8.744c-.634-.24-2.333-.67-2.554-.72a.797.797 0 00-.744.216L2.921 4.094a.802.802 0 00-.216.744l.008.03c.092.361.498 1.947.712 2.524l-.744 1.8zM12 17a5 5 0 100-10 5 5 0 000 10z",fill:"#212134"}))}}}]);
